<!DOCTYPE HTML>
<html>
  <head>
    <meta name="generator"
    content="HTML Tidy for HTML5 (experimental) for Windows https://github.com/w3c/tidy-html5/tree/c63cc39" />
    <meta charset="utf-8" />
    <meta content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no" name="viewport" />
    <title></title>
    <!-- <script src="/phpMyAdmin/js/jquery.cookie.js?4.11.94"></script> -->
    <!-- <script src="/phpMyAdmin/js/jquery.more.extend.js?4.11.94"></script> -->
    <script src="js/jquery-3.2.1.min.js"></script>
    <script src="js/jquery.slimscroll.min.js"></script>
    <script src="js/spin.js"></script>
    <script type="text/javascript">
    		jQuery(document).ready(function ($) {
    			$('#inner-content').slimScroll({
    				height: '20px';
    			});
    		});
    </script>
    <script type="text/javascript">
    		$.get('check_login.php', function(data) {
          var doc = '';
          if (data)
          {
              doc = data;
              document.getElementById('light').style.display='none';
              document.getElementById('fade').style.display='none';
          }else {
              doc = '<a href = "javascript:void(0)" onclick = "LoginBtnClick()">登录</a>';
              document.getElementById('light').style.display='block';
              document.getElementById('fade').style.display='block';
          }
    			$('#login_info').html(doc);
          // alert(doc);
    		});
    </script>
    <script type="text/javascript">
    function LoginBtnClick(){
      document.getElementById('light').style.display='block';
      document.getElementById('fade').style.display='block';
    }
    function CancelLoginBtnClick(){
      document.getElementById('light').style.display='none';
      document.getElementById('fade').style.display='none';
    }
    </script>
    <script type="text/javascript">
      // var target = document.getElementById('spin');
      // var spinner;
      function GetServerListAndRefreshUI(){
        // spinner = new Spinner().spin(target);
        $.get('GetServerList.php', function(data){
          // alert('请求服务器列表：' + data);
          RefreshServerList();
        });
      }
      function RefreshServerOnlineCount(){
        $.get('GetServerOnline.php', function(data){
          // alert("获取在线人数：" + data);
        });
      }

      function RefreshUI()
      {
        $.get('refresh_UI.php', function(data){
          $('#option-ui').html(data);
          // alert(data);
        });
      }

      function RefreshServerList(){
        $.get('refresh_server_list.php', function(data) {
          $('#inner-content').html(data);
          // alert("刷新服务器列表：" + data);
          // spinner.spin();
        });
        RefreshUI();
      }

      setInterval(function(){
        RefreshServerOnlineCount();
    		GetServerListAndRefreshUI();
      }, 30000);

      GetServerListAndRefreshUI();
    </script>
    <script type="text/javascript">
      function SelectServer(e){
        var id = e.getAttribute("server_id");
    		$.get('SelectServer.php?SID=' + id, function(data) {
          // alert('选择服务器信息：' + data);
    			GetServerListAndRefreshUI();
    		});
      }
    </script>
    <script type="text/javascript">
      function SelectSubServer(e){
        var id = e.getAttribute("server_id");
        var name = e.getAttribute("server_name");

        // alert('选中的服务器名字：' + name);
        $.get('SelectServer.php?SID=' + id + '&SName=' + name, function(data) {
          RefreshServerOnlineCount();
          RefreshServerList();
        });
      }
    </script>
    <!-- 邮件发送 -->
    <script type="text/javascript">
      function SendMail(){
        document.getElementById('send-mail').style.display='block';
        document.getElementById('freezn-account').style.display='none';
        document.getElementById('unfreezn-account').style.display='none';
        document.getElementById('set-activities').style.display='none';
      }

      function ReqrestSendMail(){
        var url = 'SendMail.php?mailtype=' + document.getElementById('mailtype').value
                + '&userid=' + document.getElementById('mail_userid').value
                + '&beginedate=' + document.getElementById('mail_beginedate').value
                + '&enddate=' + document.getElementById('mail_enddate').value
                + '&title=' + document.getElementById('mail_title').value
                + '&content=' + document.getElementById('mail_content').value
                + '&item1_type=' + document.getElementById('item1_type').value
                + '&item1_id=' + document.getElementById('item1_id').value
                + '&item1_num=' + document.getElementById('item1_num').value
                + '&item2_type=' + document.getElementById('item2_type').value
                + '&item2_id=' + document.getElementById('item2_id').value
                + '&item2_num=' + document.getElementById('item2_num').value
                + '&item3_type=' + document.getElementById('item3_type').value
                + '&item3_id=' + document.getElementById('item3_id').value
                + '&item3_num=' + document.getElementById('item3_num').value
                + '&item4_type=' + document.getElementById('item4_type').value
                + '&item4_id=' + document.getElementById('item4_id').value
                + '&item4_num=' + document.getElementById('item4_num').value
                + '&item5_type=' + document.getElementById('item5_type').value
                + '&item5_id=' + document.getElementById('item5_id').value
                + '&item5_num=' + document.getElementById('item5_num').value
                + '&item6_type=' + document.getElementById('item6_type').value
                + '&item6_id=' + document.getElementById('item6_id').value
                + '&item6_num=' + document.getElementById('item6_num').value
                + '&item7_type=' + document.getElementById('item7_type').value
                + '&item7_id=' + document.getElementById('item7_id').value
                + '&item7_num=' + document.getElementById('item7_num').value
                + '&item8_type=' + document.getElementById('item8_type').value
                + '&item8_id=' + document.getElementById('item8_id').value
                + '&item8_num=' + document.getElementById('item8_num').value
                + '&signature=' + document.getElementById('mail_signature').value;
        $.get(url, function(data) {
          alert(data);
        });
      }
    </script>
    <!-- 封号处理 -->
    <script type="text/javascript">
      function Freezn(){
        document.getElementById('send-mail').style.display='none';
        document.getElementById('freezn-account').style.display='block';
        document.getElementById('unfreezn-account').style.display='none';
        document.getElementById('set-activities').style.display='none';
      }

      function ReqrestFreezeUser(){
        var url = 'FreezeUser.php?userid=' + document.getElementById('freeze_userid').value
                + '&date=' + document.getElementById('freeze_date').value;
        $.get(url, function(data) {
          alert(data);
        });
      }
    </script>
    <!-- 解封处理 -->
    <script type="text/javascript">
      function UnFreezn(){
        document.getElementById('send-mail').style.display='none';
        document.getElementById('freezn-account').style.display='none';
        document.getElementById('unfreezn-account').style.display='block';
        document.getElementById('set-activities').style.display='none';
      }

      function ReqrestUnFreezeUser(){
        var url = 'UnFreezeUser.php?userid=' + document.getElementById('unfreeze_userid').value;
        $.get(url, function(data) {
          alert(data);
        });
      }
    </script>
    <!-- 活动设置 -->
    <script type="text/javascript">
      function SetActivities(){
        document.getElementById('send-mail').style.display='none';
        document.getElementById('freezn-account').style.display='none';
        document.getElementById('unfreezn-account').style.display='none';
        document.getElementById('set-activities').style.display='block';
      }
    </script>
<style>
.black_overlay{
    display: none;
    position: absolute;
    top: 0%;
    left: 0%;
    width: 100%;
    height: 100%;
    background-color: black;
    z-index:1001;
    -moz-opacity: 0.8;
    opacity:.80;
    filter: alpha(opacity=88);
}
.white_content {
    display: none;
    position: absolute;
    left:50%;
    margin-left:-170px;
    top:50%;
    margin-top:-210px;
    width: 340px;
    height: 420px;
    padding: 20px;
    border: 10px solid orange;
    background-color: white;
    z-index:9999;
    overflow: auto;
}
</style>
  </head>
  <body>
  <div class="spin"></div>
	<!-- 左侧服务器列表 -->
    <div class="m-splitter-left left-container" style="border-right:3px solid #ccc; float:left; width:220px;">
      <b>服务器列表</b>
      <div id="inner-content">
	  </div>
    </div>

	<!-- 右侧主界面区域 -->
    <div class="main_partant_div">
    <div id="login_info" align="right" style="margin-right: 10px;">
      <!-- 根据登录状态刷新此处显示 -->
    </div>
    <!-- 操作按钮 -->
		<div id='option-ui' align='left' style="float:left; width:160px; margin-left: 10px;">
		</div>
    <!-- 邮件发送表单 -->
    <div id='send-mail' style="border-left:3px solid #ccc; border-top:3px solid #ccc; border-right:3px solid #ccc; border-bottom:3px solid #ccc; float:left; display:none;">
      <!-- <form method="GET"> -->
        <div>选择邮件类型
          <select name="mailtype" id="mailtype">
           <option value="1">个人邮件</option>
           <option value="3">全服邮件</option>
         </select>
        </div>
        玩家id：<input type="text" id="mail_userid" onkeyup="this.value=this.value.replace(/\D/g,'')"  onafterpaste="this.value=this.value.replace(/\D/g,'')" placeholder="输入玩家id"/><br>
        开始时间：<input type="date" id="mail_beginedate" /><br>
        结束时间：<input type="date" id="mail_enddate" /><br>
        邮件标题：<input type="text" id="mail_title" placeholder="输入邮件标题"/><br>
        邮件内容: <br>
       <textarea name="content" id="mail_content" style="width:200px;height:80px;" placeholder="输入邮件内容"/></textarea><br/>
       物品1：
       <input type="text" id="item1_type" onkeyup="this.value=this.value.replace(/\D/g,'')"  onafterpaste="this.value=this.value.replace(/\D/g,'')" placeholder="物品1类型"/>
       <input type="text" id="item1_id" onkeyup="this.value=this.value.replace(/\D/g,'')"  onafterpaste="this.value=this.value.replace(/\D/g,'')" placeholder="物品1id"/>
       <input type="text" id="item1_num" onkeyup="this.value=this.value.replace(/\D/g,'')"  onafterpaste="this.value=this.value.replace(/\D/g,'')" placeholder="物品1数量"/><br>
       物品2：
       <input type="text" id="item2_type" onkeyup="this.value=this.value.replace(/\D/g,'')"  onafterpaste="this.value=this.value.replace(/\D/g,'')" placeholder="物品2类型"/>
       <input type="text" id="item2_id" onkeyup="this.value=this.value.replace(/\D/g,'')"  onafterpaste="this.value=this.value.replace(/\D/g,'')" placeholder="物品2id"/>
       <input type="text" id="item2_num" onkeyup="this.value=this.value.replace(/\D/g,'')"  onafterpaste="this.value=this.value.replace(/\D/g,'')" placeholder="物品2数量"/><br>
       物品3：
       <input type="text" id="item3_type" onkeyup="this.value=this.value.replace(/\D/g,'')"  onafterpaste="this.value=this.value.replace(/\D/g,'')" placeholder="物品3类型"/>
       <input type="text" id="item3_id" onkeyup="this.value=this.value.replace(/\D/g,'')"  onafterpaste="this.value=this.value.replace(/\D/g,'')" placeholder="物品3id"/>
       <input type="text" id="item3_num" onkeyup="this.value=this.value.replace(/\D/g,'')"  onafterpaste="this.value=this.value.replace(/\D/g,'')" placeholder="物品3数量"/><br>
       物品4：
       <input type="text" id="item4_type" onkeyup="this.value=this.value.replace(/\D/g,'')"  onafterpaste="this.value=this.value.replace(/\D/g,'')" placeholder="物品4类型"/>
       <input type="text" id="item4_id" onkeyup="this.value=this.value.replace(/\D/g,'')"  onafterpaste="this.value=this.value.replace(/\D/g,'')" placeholder="物品4id"/>
       <input type="text" id="item4_num" onkeyup="this.value=this.value.replace(/\D/g,'')"  onafterpaste="this.value=this.value.replace(/\D/g,'')" placeholder="物品4数量"/><br>
       物品5：
       <input type="text" id="item5_type" onkeyup="this.value=this.value.replace(/\D/g,'')"  onafterpaste="this.value=this.value.replace(/\D/g,'')" placeholder="物品5类型"/>
       <input type="text" id="item5_id" onkeyup="this.value=this.value.replace(/\D/g,'')"  onafterpaste="this.value=this.value.replace(/\D/g,'')" placeholder="物品5id"/>
       <input type="text" id="item5_num" onkeyup="this.value=this.value.replace(/\D/g,'')"  onafterpaste="this.value=this.value.replace(/\D/g,'')" placeholder="物品5数量"/><br>
       物品6：
       <input type="text" id="item6_type" onkeyup="this.value=this.value.replace(/\D/g,'')"  onafterpaste="this.value=this.value.replace(/\D/g,'')" placeholder="物品6类型"/>
       <input type="text" id="item6_id" onkeyup="this.value=this.value.replace(/\D/g,'')"  onafterpaste="this.value=this.value.replace(/\D/g,'')" placeholder="物品6id"/>
       <input type="text" id="item6_num" onkeyup="this.value=this.value.replace(/\D/g,'')"  onafterpaste="this.value=this.value.replace(/\D/g,'')" placeholder="物品6数量"/><br>
       物品7：
       <input type="text" id="item7_type" onkeyup="this.value=this.value.replace(/\D/g,'')"  onafterpaste="this.value=this.value.replace(/\D/g,'')" placeholder="物品7类型"/>
       <input type="text" id="item7_id" onkeyup="this.value=this.value.replace(/\D/g,'')"  onafterpaste="this.value=this.value.replace(/\D/g,'')" placeholder="物品7id"/>
       <input type="text" id="item7_num" onkeyup="this.value=this.value.replace(/\D/g,'')"  onafterpaste="this.value=this.value.replace(/\D/g,'')" placeholder="物品7数量"/><br>
       物品8：
       <input type="text" id="item8_type" onkeyup="this.value=this.value.replace(/\D/g,'')"  onafterpaste="this.value=this.value.replace(/\D/g,'')" placeholder="物品8类型"/>
       <input type="text" id="item8_id" onkeyup="this.value=this.value.replace(/\D/g,'')"  onafterpaste="this.value=this.value.replace(/\D/g,'')" placeholder="物品8id"/>
       <input type="text" id="item8_num" onkeyup="this.value=this.value.replace(/\D/g,'')"  onafterpaste="this.value=this.value.replace(/\D/g,'')" placeholder="物品8数量"/><br>
       落款：<input type="text" name="signature" id="mail_signature" placeholder="落款"/><br>
       <button onclick="ReqrestSendMail()">发送</button>
      <!-- </form> -->
    </div>
    <!-- 封号 -->
    <div id='freezn-account' style="border-left:3px solid #ccc; border-top:3px solid #ccc; border-right:3px solid #ccc; border-bottom:3px solid #ccc; float:left; display:none;">
      <!-- <form method="GET"> -->
        玩家id：<input type="text" id="freeze_userid" onkeyup="this.value=this.value.replace(/\D/g,'')"  onafterpaste="this.value=this.value.replace(/\D/g,'')" placeholder="输入玩家id"/><br>
        截止时间：<input type="datetime-local" id="freeze_date" /><br>
       <button onclick="ReqrestFreezeUser()">封号</button>
      <!-- </form> -->
    </div>
    <!-- 踢人下线 -->
    <div id='unfreezn-account' style="border-left:3px solid #ccc; border-top:3px solid #ccc; border-right:3px solid #ccc; border-bottom:3px solid #ccc; float:left; display:none;">
      <!-- <form method="GET"> -->
        玩家id：<input type="text" id="unfreeze_userid" onkeyup="this.value=this.value.replace(/\D/g,'')"  onafterpaste="this.value=this.value.replace(/\D/g,'')" placeholder="输入玩家id"/><br>
       <button onclick="ReqrestUnFreezeUser()">解封</button>
      <!-- </form> -->
    </div>
    <!-- 活动设置 -->
    <div id='set-activities' style="border-left:3px solid #ccc; border-top:3px solid #ccc; border-right:3px solid #ccc; border-bottom:3px solid #ccc; float:left; display:none;">
      <!-- <form method="GET"> -->

      <button onclick="ReqrestSetActivities()">提交修改</button>
      <!-- </form> -->
    </div>
	</div>
  <div id="light" class="white_content" align="center">
    <img src="logo.jpg">
    <form action="login.php" method="GET">
        用户名：<input type="text" name="username" /><br>
        密&emsp;码：<input type="password" name="password" />
        <br/><br/>
        <input type="submit" value="登录">
        <a href = "javascript:void(0)" onclick = "CancelLoginBtnClick()">取消</a>
    </form>
    </div>
  <div id="fade" class="black_overlay"></div>
  </body>
</html>
